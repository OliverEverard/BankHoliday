<!DOCTYPE html>
  <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script> 
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
  <link rel="stylesheet" href="style.css">
 


<script type="module">
  const { createApp } = Vue;
  let id = 0; 
  
  createApp({
    data() {
      return {
        today: "", 
        isTodayABankHoliday: ""
       };
    },
  
    created() {
      this.isTodayBankHolidayFunc();
      setInterval(() => {
        this.isTodayBankHolidayFunc();
      }, 5000);
    },
  
    methods: {
  isTodayBankHolidayFunc(){
    return fetch('https://www.gov.uk/bank-holidays.json')
      .then(response => response.json())
      .then(data => {
        const today = new Date();
        const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
        this.today = today.toLocaleDateString('en-GB', options);
        const year = today.getFullYear();
        const month = String(today.getMonth() + 1).padStart(2, '0');
        const day = String(today.getDate()).padStart(2, '0');
        const todayDateString = `${year}-${month}-${day}`;
        
        const englandAndWalesHolidays = data['england-and-wales'].events;
        const scotlandHolidays = data['scotland'].events;
        const northernIrelandHolidays = data['northern-ireland'].events;
        
        const allHolidays = [
          ...englandAndWalesHolidays,
          ...scotlandHolidays,
          ...northernIrelandHolidays,
        ];
        
        const isTodayHoliday = allHolidays.some(holiday => {
          return holiday.date === todayDateString;
        });

        if (isTodayHoliday) {
          this.isTodayABankHoliday =  "Today is a Bank Holiday"
        } else { this.isTodayABankHoliday = "Today is not a Bank Holiday" }
      });
  }, 
}

}).mount('#app')

</script>


<!-- HTML -->
<!--------------------------------------------------------------------------------------------------------------------------------->
<head>
  <title>Bank Hol?</title>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8368997072131126"
     crossorigin="anonymous"></script>
</head>

<section class="hero">
  <div class="hero-body">
    <p class="font">
      Is today a bank holiday? 
    </p>
    <p class="font">
      Should I be at work? 
    </p>
  </div>
</section>


<section id="app">
  <div class="box custom-box-2">
    <div class="box custom-box">
      <p class="font">
        The Date Is {{ today }}
      </p>
    </div>
    <div class="box custom-box"> 
      <p class="font">
        {{ isTodayABankHoliday }}
      </p>
    </div>
    <p class="subtitle">
    
    </p>
  </div>
</section>



